<!-- src/app/tabs/inicio/product-edit/product-edit.page.html -->
<ion-header>
    <ion-toolbar color="success">
      <ion-buttons slot="start">
        <ion-back-button defaultHref="/tabs/inicio"></ion-back-button>
      </ion-buttons>
      <ion-title>Editar Producto</ion-title>
    </ion-toolbar>
  </ion-header>
  
  <ion-content class="ion-padding">
    <div class="loading-container" *ngIf="loading">
      <ion-spinner name="crescent"></ion-spinner>
    </div>
  
    <form [formGroup]="productForm" (ngSubmit)="onSubmit()" *ngIf="!loading">
      <!-- Información básica -->
      <div class="section">
        <h3>Información básica</h3>
        
        <ion-item>
          <ion-label position="floating">Nombre *</ion-label>
          <ion-input formControlName="nombre" type="text"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Marca</ion-label>
          <ion-input formControlName="marca" type="text"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Código de barras</ion-label>
          <ion-input formControlName="codigoBarras" type="text"></ion-input>
        </ion-item>
      </div>
  
      <!-- Información nutricional obligatoria -->
      <div class="section">
        <h3>Información nutricional por 100g *</h3>
        
        <ion-item>
          <ion-label position="floating">Calorías (kcal) *</ion-label>
          <ion-input formControlName="calorias" type="number" inputmode="decimal"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Proteínas (g) *</ion-label>
          <ion-input formControlName="proteinas" type="number" inputmode="decimal"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Carbohidratos (g) *</ion-label>
          <ion-input formControlName="carbohidratos" type="number" inputmode="decimal"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Grasas (g) *</ion-label>
          <ion-input formControlName="grasas" type="number" inputmode="decimal"></ion-input>
        </ion-item>
      </div>
  
      <!-- Información nutricional opcional -->
      <div class="section">
        <h3>Información adicional (opcional)</h3>
        
        <ion-item>
          <ion-label position="floating">Azúcares (g)</ion-label>
          <ion-input formControlName="azucares" type="number" inputmode="decimal"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Grasas saturadas (g)</ion-label>
          <ion-input formControlName="grasasSaturadas" type="number" inputmode="decimal"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Fibra (g)</ion-label>
          <ion-input formControlName="fibra" type="number" inputmode="decimal"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Sal (g)</ion-label>
          <ion-input formControlName="sal" type="number" inputmode="decimal"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label position="floating">Porción sugerida (g)</ion-label>
          <ion-input formControlName="porcion" type="number" inputmode="decimal"></ion-input>
        </ion-item>
      </div>
  
      <!-- Botones de acción -->
      <div class="action-buttons">
        <ion-button expand="block" type="submit" [disabled]="productForm.invalid">
          Guardar cambios
        </ion-button>
        
        <ion-button expand="block" fill="outline" (click)="cancel()">
          Cancelar
        </ion-button>
      </div>
    </form>
  </ion-content>